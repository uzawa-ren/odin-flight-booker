<%= form_with url: root_path, method: :get do |f| %>
  <div style="display: flex;">
    <%= f.label :departure_airport, "Departure airport:" %>
    <%= select_tag(:departure_airport, options_for_select(@airports, selected: params[:departure_airport])) %>
    <%= f.label :arrival_airport, "Arrival airport:" %>
    <%= select_tag(:arrival_airport, options_for_select(@airports, selected: params[:arrival_airport])) %>
    <%= f.label :number_of_passengers, "Number of passengers:" %>
    <%= select_tag(:number_of_passengers, options_for_select(1..4, selected: params[:number_of_passengers])) %>
    <%= f.label :departure_date, "Departure date:" %>
    <%= select_tag(:departure_date, options_for_select(@departure_dates, selected: params[:departure_date])) %>
    <%= f.submit "Search" %>
  </div>
<% end %>

<% if params[:departure_airport] || params[:arrival_airport] %>
  <div>Search results:</div>

  <% unless @flights.empty? %>

    <% @flights.each do |flight| %>
      <div style="margin: 15px; border: 1px solid black">
        <div>Departure airport: <%= flight.departure_airport.code %></div>
        <div>Arrival airport: <%= flight.arrival_airport.code %></div>
        <div>Departure date: <%= flight.departure_date %></div>
        <div>Departure time: <%= flight.departure_time %></div>
      </div>
    <% end %>

  <% else %>
    <div>No flights were found.</div>
  <% end %>
<% end %>
