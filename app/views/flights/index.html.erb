<%= form_with url: root_path, method: :get do |f| %>
  <div style="display: flex;">
    <%= f.label :departure_airport, "Departure airport:" %>
    <%= select_tag(:departure_airport, options_for_select(@airports)) %>
    <%= f.label :arrival_airport, "Arrival airport:" %>
    <%= select_tag(:arrival_airport, options_for_select(@airports)) %>
    <%= f.label :departure_date, "Departure date:" %>
    <%= select_tag(:departure_date, options_for_select(@departure_dates)) %>
    <%= f.submit "Search" %>
  </div>
<% end %>

<% if params[:departure_airport] || params[:arrival_airport] %>
  <div>Search results:</div>

  <% unless @flights.empty? %>
    <% @flights.each do |flight| %>
        <div style="margin: 15px; border: 1px solid black">
          <div>Departure airport: <%= flight.departure_airport.code %></div>
          <div>Arrival airport: <%= flight.arrival_airport.code %></div>
          <div>Departure date: <%= flight.departure_date %></div>
        </div>
    <% end %>
  <% else %>
    <div>No flights were found.</div>
  <% end %>
<% end %>
